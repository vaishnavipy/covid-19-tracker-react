(this["webpackJsonpcovid-19-tracker"]=this["webpackJsonpcovid-19-tracker"]||[]).push([[0],{12:function(e,t,c){},13:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),s=c(4),r=c.n(s),o=(c(12),c(2)),i=(c(13),c.p+"static/media/logo.9e5d4fc7.png"),d=c.p+"static/media/infected.f5aacb25.png",u=c.p+"static/media/recovered.a14b9e9d.png",j=c.p+"static/media/death.a91d3110.3fb50e93.png",l=c(5),b=c.n(l);var h=function(e){var t=e.cname,c=e.data,n=new Date,s="Recovered"===t?u:"Infected"===t?d:j,r="Recovered"===t?"recoveries from":"Infected"===t?"active cases of":"deaths caused by",o="Recovered"===t?"#7FFF95":"Infected"===t?"#FED695":"#FE8385",i=c<100?0:c-100;return Object(a.jsxs)("div",{className:"card",style:{borderBottom:"0.7em solid ".concat(o)},children:[Object(a.jsx)("div",{className:"card-img",children:Object(a.jsx)("img",{src:s})}),Object(a.jsx)("p",{className:"cname",children:t}),Object(a.jsx)("h2",{children:Object(a.jsx)(b.a,{start:i,end:c,duration:2.75,useEasing:!0,useGrouping:!0,separator:",",decimal:","})}),Object(a.jsxs)("p",{className:"dates",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][n.getDay()]," ",["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()]," ",n.getDate()," ",n.getFullYear()]}),Object(a.jsxs)("h5",{children:["Number of ",r," COVID-19"]})]})};var f=function(e){var t=e.selectCountry,c=Object(n.useState)("global"),s=Object(o.a)(c,2),r=s[0],i=s[1],d=Object(n.useState)(""),u=Object(o.a)(d,2),j=u[0],l=u[1],b=Object(n.useState)(""),h=Object(o.a)(b,2),f=h[0],O=h[1];return Object(n.useEffect)((function(){fetch("https://covid19.mathdro.id/api/countries").then((function(e){return e.json()})).then((function(e){return l(e.countries)}))}),[]),Object(n.useEffect)((function(){j&&O(j.map((function(e,t){return Object(a.jsx)("option",{value:e.name,children:e.name},t)})))}),[j]),Object(a.jsx)("div",{className:"select",children:Object(a.jsx)("form",{children:Object(a.jsxs)("select",{value:r,onChange:function(e){i(e.target.value),t(e.target.value)},children:[Object(a.jsx)("option",{value:"global",children:"Global"}),f]})})})},O=c(6),p=c.n(O);var v=function(e){var t=e.confirmed,c=e.recovered,s=e.deaths,r=e.country,i=Object(n.useState)(""),d=Object(o.a)(i,2),u=d[0],j=d[1],l=Object(n.useState)(""),b=Object(o.a)(l,2),h=b[0],f=b[1],O=Object(n.useState)(""),v=Object(o.a)(O,2),m=v[0],g=v[1];return Object(n.useEffect)((function(){console.log("mount"),j({labels:["Infected","Recovered","Deaths"],datasets:[{label:"People",backgroundColor:["rgba(252,219,141,0.7)","rgba(125,252,147,0.7)","rgba(251,131,133,0.7)"],borderColor:"none",borderWidth:2,data:[0,0,0]}]}),g({maintainAspectRatio:!1,title:{display:!0,text:"The current state in ".concat(r)},legend:{display:!1},scales:{yAxes:[{stacked:!0,gridLines:{display:!0}}],xAxes:[{gridLines:{display:!1}}]}})}),[]),Object(n.useEffect)((function(){console.log("d & option chnage"),u&&m&&f(p.a.Bar("chart",{options:m,data:u}))}),[u,m]),Object(n.useEffect)((function(){h&&t&&(console.log("update barchart"),h.options.title.text="The current state in ".concat(r),h.data.datasets[0].data[0]=t,h.data.datasets[0].data[1]=c,h.data.datasets[0].data[2]=s,h.update())}),[t,c,s,h]),Object(a.jsx)("div",{className:"chart-container",children:Object(a.jsx)("canvas",{id:"chart"})})};var m=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),d=Object(o.a)(r,2),u=d[0],j=d[1];return Object(n.useEffect)((function(){fetch("https://covid19.mathdro.id/api").then((function(e){return e.json()})).then((function(e){return s(e)}))}),[]),Object(n.useEffect)((function(){u&&("global"===u?fetch("https://covid19.mathdro.id/api").then((function(e){return e.json()})).then((function(e){s(e)})):fetch("https://covid19.mathdro.id/api/countries/".concat(u)).then((function(e){return e.json()})).then((function(e){return s(e)})))}),[u]),Object(a.jsxs)("div",{className:"app-container",children:[Object(a.jsx)("div",{className:"logo",children:Object(a.jsx)("img",{src:i})}),Object(a.jsxs)("p",{children:["Data source from ",Object(a.jsx)("span",{className:"api",children:Object(a.jsx)("a",{href:"https://github.com/mathdroid/covid-19-api",target:"_blank",children:"mathdroid's"})})," api"]}),Object(a.jsxs)("div",{className:"card-grid",children:[c&&Object(a.jsx)(h,{cname:"Infected",data:c.confirmed.value}),c&&Object(a.jsx)(h,{cname:"Recovered",data:c.recovered.value}),c&&Object(a.jsx)(h,{cname:"Deaths",data:c.deaths.value})]}),c&&Object(a.jsx)(f,{selectCountry:function(e){j(e)}}),c&&u&&Object(a.jsx)(v,{confirmed:c.confirmed.value,recovered:c.recovered.value,deaths:c.deaths.value,country:u})]})};r.a.render(Object(a.jsx)(m,{}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.5ea7fbe2.chunk.js.map